!function t(e,o,n){function i(r,d){if(!o[r]){if(!e[r]){var s="function"==typeof require&&require;if(!d&&s)return s(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){var o=e[r][1][t];return i(o?o:t)},u,u.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(t,e,o){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var o="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,n=e(o),i="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=e(i);window.Portal=function(t){this.initialize(t)},window.Portal.prototype={initialize:function(t){this.options=t,this.options.editorEnabled&&(this.createAllSortables(),this.lastSaveString="",this.saveDashboardsState())},createAllSortables:function(){var t,e=this,o=(0,n["default"])("."+this.options.block),i=(0,n["default"])("."+this.options.columnHandle),a=function(t){(0,n["default"])(t.currentTarget).removeClass(e.options.hoverClass)},r=function(o){o.preventDefault(),t.detach().insertBefore((0,n["default"])(o.currentTarget)),a(o),e.saveDashboardsState()};o.prop("draggable",!0).on("selectstart",function(){return this.dragDrop(),!1}).on("dragstart",function(e){e.originalEvent.dataTransfer.setData("Text","drag"),t=(0,n["default"])(this),i.show()}).on("dragover",function(o){t.prop("id")!==(0,n["default"])(this).prop("id")&&(o.preventDefault(),(0,n["default"])(o.currentTarget).addClass(e.options.hoverClass))}).on("drop",r).on("dragleave",a),i.on("dragover",function(t){t.preventDefault(),(0,n["default"])(t.currentTarget).addClass(e.options.hoverClass)}).on("drop",r).on("dragleave",a)},highlightWidget:function(t){var e=(0,n["default"])("#block_"+t),o=this.options;e.css("background-color",o.highlightStartColor),setTimeout(function(){e.css("background-color",o.highlightEndColor)},this.options.highlightDuration)},saveDashboardsState:function(){var t=this.options,e=(0,n["default"])("."+this.options.column).map(function(){var e=(0,n["default"])(this).find("."+t.block);return(0,n["default"])(this).find("."+t.columnHandle).toggle(0===e.length),e.map(function(){return(0,n["default"])(this).prop("id").substring(t.block.length+1)}).get().join(",")}).get().join(";");if(e!==this.lastSaveString){var o=""===this.lastSaveString;if(this.lastSaveString=e,!o&&this.options.saveUrl){var i=this.options.dashboardState+"="+encodeURIComponent(e);n["default"].ajax({url:this.options.saveUrl,type:"POST",data:i})}}},editWidget:function(t){(0,n["default"])("#widget_title_"+t).hide(),(0,n["default"])("#widget_"+t).hide(),(0,n["default"])("#widget_props_"+t).show(),(0,n["default"])((0,n["default"])("#block_"+t+" a.link-action")[0]).hide()},cancelEditWidget:function(t){(0,n["default"])("widget_title_"+t).show(),(0,n["default"])("#widget_"+t).show(),(0,n["default"])("#widget_props_"+t).hide(),(0,n["default"])((0,n["default"])("#block_"+t+" a.link-action")[0]).show()},deleteWidget:function(t){(0,n["default"])(t).closest("."+this.options.block).remove(),this.saveDashboardsState()}},window.autoResize=function(t,e){var o=a["default"].debounce(e,t);(0,n["default"])(window).on("resize",o)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);